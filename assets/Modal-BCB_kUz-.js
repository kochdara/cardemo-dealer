import{a8 as C,ab as ye,ak as ge,r as A,ai as be,$ as y,g as r,ac as k,e as g,k as v,w as m,a0 as D,a1 as _,b7 as he,y as we,B as ee,b8 as ie,b9 as P,aR as ue,ba as M,bb as x,bc as Ee,bd as Oe,be as N,bf as te,bg as Ce,o as ce,b as K,ax as Be,z as de,a7 as De,ao as ke,bh as H,az as fe,bi as $e,W as L,bj as Ae,aP as Fe,aF as Pe,bk as oe,av as Se,f as O,ap as V,aq as j,aA as _e,at as Me,T as Ie,ay as Re,V as Te,aD as qe,aE as se,Y as ae,X as Ke,q as F,aB as Le,aa as xe,s as I,t as R,c as W,a as Ne,_ as We}from"./index-BKCPoiO_.js";import{u as z}from"./useId-B5SgPQru.js";const[$,Ue]=ye("DialogRoot"),Ve=C({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(t,{emit:o}){const e=t,s=ge(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0}),f=A(),p=A(),{modal:d}=be(e);return Ue({open:s,modal:d,openModal:()=>{s.value=!0},onOpenChange:u=>{s.value=u},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:f,contentElement:p}),(u,c)=>y(u.$slots,"default",{open:r(s)})}}),je=C({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t;k();const e=$();return(n,s)=>(v(),g(r(_),D(o,{type:n.as==="button"?"button":void 0,onClick:s[0]||(s[0]=f=>r(e).onOpenChange(!1))}),{default:m(()=>[y(n.$slots,"default")]),_:3},16,["type"]))}});function ze(t){return t?"open":"closed"}const He=he(()=>A([]));function Ye(){const t=He();return{add(o){const e=t.value[0];o!==e&&(e==null||e.pause()),t.value=ne(t.value,o),t.value.unshift(o)},remove(o){var e;t.value=ne(t.value,o),(e=t.value[0])==null||e.resume()}}}function ne(t,o){const e=[...t],n=e.indexOf(o);return n!==-1&&e.splice(n,1),e}function Xe(t){return t.filter(o=>o.tagName!=="A")}const Ge=C({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:o}){const e=t,n=o,{currentRef:s,currentElement:f}=k(),p=A(null),d=Ye(),u=we({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});ee(l=>{if(!ie)return;const a=f.value;if(!e.trapped)return;function i(E){if(u.paused||!a)return;const B=E.target;a.contains(B)?p.value=B:P(p.value,{select:!0})}function b(E){if(u.paused||!a)return;const B=E.relatedTarget;B!==null&&(a.contains(B)||P(p.value,{select:!0}))}function h(E){a.contains(p.value)||P(a)}document.addEventListener("focusin",i),document.addEventListener("focusout",b);const w=new MutationObserver(h);a&&w.observe(a,{childList:!0,subtree:!0}),l(()=>{document.removeEventListener("focusin",i),document.removeEventListener("focusout",b),w.disconnect()})}),ee(async l=>{const a=f.value;if(await ue(),!a)return;d.add(u);const i=M();if(!a.contains(i)){const h=new CustomEvent(x,te);a.addEventListener(x,w=>n("mountAutoFocus",w)),a.dispatchEvent(h),h.defaultPrevented||(Ee(Xe(Oe(a)),{select:!0}),M()===i&&P(a))}l(()=>{a.removeEventListener(x,E=>n("mountAutoFocus",E));const h=new CustomEvent(N,te),w=E=>{n("unmountAutoFocus",E)};a.addEventListener(N,w),a.dispatchEvent(h),setTimeout(()=>{h.defaultPrevented||P(i??document.body,{select:!0}),a.removeEventListener(N,w),d.remove(u)},0)})});function c(l){if(!e.loop&&!e.trapped||u.paused)return;const a=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,i=M();if(a&&i){const b=l.currentTarget,[h,w]=Ce(b);h&&w?!l.shiftKey&&i===w?(l.preventDefault(),e.loop&&P(h,{select:!0})):l.shiftKey&&i===h&&(l.preventDefault(),e.loop&&P(w,{select:!0})):i===b&&l.preventDefault()}}return(l,a)=>(v(),g(r(_),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":l.asChild,as:l.as,onKeydown:c},{default:m(()=>[y(l.$slots,"default")]),_:3},8,["as-child","as"]))}}),pe=C({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,n=o,s=$(),{forwardRef:f,currentElement:p}=k();return s.titleId||(s.titleId=z(void 0,"reka-dialog-title")),s.descriptionId||(s.descriptionId=z(void 0,"reka-dialog-description")),ce(()=>{s.contentElement=p,M()!==document.body&&(s.triggerElement.value=M())}),(d,u)=>(v(),g(r(Ge),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:u[5]||(u[5]=c=>n("openAutoFocus",c)),onUnmountAutoFocus:u[6]||(u[6]=c=>n("closeAutoFocus",c))},{default:m(()=>[K(r(Be),D({id:r(s).contentId,ref:r(f),as:d.as,"as-child":d.asChild,"disable-outside-pointer-events":d.disableOutsidePointerEvents,role:"dialog","aria-describedby":r(s).descriptionId,"aria-labelledby":r(s).titleId,"data-state":r(ze)(r(s).open.value)},d.$attrs,{onDismiss:u[0]||(u[0]=c=>r(s).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=c=>n("escapeKeyDown",c)),onFocusOutside:u[2]||(u[2]=c=>n("focusOutside",c)),onInteractOutside:u[3]||(u[3]=c=>n("interactOutside",c)),onPointerDownOutside:u[4]||(u[4]=c=>n("pointerDownOutside",c))}),{default:m(()=>[y(d.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}});var Je=function(t){if(typeof document>"u")return null;var o=Array.isArray(t)?t[0]:t;return o.ownerDocument.body},S=new WeakMap,T=new WeakMap,q={},U=0,ve=function(t){return t&&(t.host||ve(t.parentNode))},Qe=function(t,o){return o.map(function(e){if(t.contains(e))return e;var n=ve(e);return n&&t.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},Ze=function(t,o,e,n){var s=Qe(o,Array.isArray(t)?t:[t]);q[e]||(q[e]=new WeakMap);var f=q[e],p=[],d=new Set,u=new Set(s),c=function(a){!a||d.has(a)||(d.add(a),c(a.parentNode))};s.forEach(c);var l=function(a){!a||u.has(a)||Array.prototype.forEach.call(a.children,function(i){if(d.has(i))l(i);else try{var b=i.getAttribute(n),h=b!==null&&b!=="false",w=(S.get(i)||0)+1,E=(f.get(i)||0)+1;S.set(i,w),f.set(i,E),p.push(i),w===1&&h&&T.set(i,!0),E===1&&i.setAttribute(e,"true"),h||i.setAttribute(n,"true")}catch(B){console.error("aria-hidden: cannot operate on ",i,B)}})};return l(o),d.clear(),U++,function(){p.forEach(function(a){var i=S.get(a)-1,b=f.get(a)-1;S.set(a,i),f.set(a,b),i||(T.has(a)||a.removeAttribute(n),T.delete(a)),b||a.removeAttribute(e)}),U--,U||(S=new WeakMap,S=new WeakMap,T=new WeakMap,q={})}},et=function(t,o,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=Je(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),Ze(n,s,e,"aria-hidden")):function(){return null}};function tt(t){let o;de(()=>De(t),e=>{e?o=et(e):o&&o()}),ke(()=>{o&&o()})}const ot=C({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,n=o,s=$(),f=H(n),{forwardRef:p,currentElement:d}=k();return tt(d),(u,c)=>(v(),g(pe,D({...e,...r(f)},{ref:r(p),"trap-focus":r(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:c[0]||(c[0]=l=>{var a;l.defaultPrevented||(l.preventDefault(),(a=r(s).triggerElement.value)==null||a.focus())}),onPointerDownOutside:c[1]||(c[1]=l=>{const a=l.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&l.preventDefault()}),onFocusOutside:c[2]||(c[2]=l=>{l.preventDefault()})}),{default:m(()=>[y(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),st=C({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,s=H(o);k();const f=$(),p=A(!1),d=A(!1);return(u,c)=>(v(),g(pe,D({...e,...r(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:c[0]||(c[0]=l=>{var a;l.defaultPrevented||(p.value||(a=r(f).triggerElement.value)==null||a.focus(),l.preventDefault()),p.value=!1,d.value=!1}),onInteractOutside:c[1]||(c[1]=l=>{var b;l.defaultPrevented||(p.value=!0,l.detail.originalEvent.type==="pointerdown"&&(d.value=!0));const a=l.target;((b=r(f).triggerElement.value)==null?void 0:b.contains(a))&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&d.value&&l.preventDefault()})}),{default:m(()=>[y(u.$slots,"default")]),_:3},16))}}),at=C({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,n=o,s=$(),f=H(n),{forwardRef:p}=k();return(d,u)=>(v(),g(r(fe),{present:d.forceMount||r(s).open.value},{default:m(()=>[r(s).modal.value?(v(),g(ot,D({key:0,ref:r(p)},{...e,...r(f),...d.$attrs}),{default:m(()=>[y(d.$slots,"default")]),_:3},16)):(v(),g(st,D({key:1,ref:r(p)},{...e,...r(f),...d.$attrs}),{default:m(()=>[y(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),re=C({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{default:"p"}},setup(t){const o=t;k();const e=$();return(n,s)=>(v(),g(r(_),D(o,{id:r(e).descriptionId}),{default:m(()=>[y(n.$slots,"default")]),_:3},16,["id"]))}}),nt=$e(()=>{const t=A(new Map),o=A(),e=L(()=>{for(const p of t.value.values())if(p)return!0;return!1}),n=Fe({scrollBody:A(!0)});let s=null;const f=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=o.value??"",oe&&(s==null||s()),o.value=void 0};return de(e,(p,d)=>{var a;if(!ie)return;if(!p){d&&f();return}o.value===void 0&&(o.value=document.body.style.overflow);const u=window.innerWidth-document.documentElement.clientWidth,c={padding:u,margin:0},l=(a=n.scrollBody)!=null&&a.value?typeof n.scrollBody.value=="object"?Pe({padding:n.scrollBody.value.padding===!0?u:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?u:n.scrollBody.value.margin},c):c:{padding:0,margin:0};u>0&&(document.body.style.paddingRight=typeof l.padding=="number"?`${l.padding}px`:String(l.padding),document.body.style.marginRight=typeof l.margin=="number"?`${l.margin}px`:String(l.margin),document.body.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),oe&&(s=Se(document,"touchmove",i=>lt(i),{passive:!1})),ue(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function rt(t){const o=Math.random().toString(36).substring(2,7),e=nt();e.value.set(o,t);const n=L({get:()=>e.value.get(o)??!1,set:s=>e.value.set(o,s)});return Ae(()=>{e.value.delete(o)}),n}function me(t){const o=window.getComputedStyle(t);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&t.clientWidth<t.scrollWidth||o.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const e=t.parentNode;return!(e instanceof Element)||e.tagName==="BODY"?!1:me(e)}}function lt(t){const o=t||window.event,e=o.target;return e instanceof Element&&me(e)?!1:o.touches.length>1?!0:(o.preventDefault&&o.cancelable&&o.preventDefault(),!1)}const it=C({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(t){const o=$();return rt(!0),k(),(e,n)=>(v(),g(r(_),{as:e.as,"as-child":e.asChild,"data-state":r(o).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:m(()=>[y(e.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ut=C({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const o=$(),{forwardRef:e}=k();return(n,s)=>{var f;return(f=r(o))!=null&&f.modal.value?(v(),g(r(fe),{key:0,present:n.forceMount||r(o).open.value},{default:m(()=>[K(it,D(n.$attrs,{ref:r(e),as:n.as,"as-child":n.asChild}),{default:m(()=>[y(n.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):O("",!0)}}}),le=C({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(t){const o=t,e=$();return k(),(n,s)=>(v(),g(r(_),D(o,{id:r(e).titleId}),{default:m(()=>[y(n.$slots,"default")]),_:3},16,["id"]))}}),ct=C({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(t){const o=t,e=$(),{forwardRef:n,currentElement:s}=k();return e.contentId||(e.contentId=z(void 0,"reka-dialog-content")),ce(()=>{e.triggerElement.value=s.value}),(f,p)=>(v(),g(r(_),D(o,{ref:r(n),type:f.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":r(e).open.value||!1,"aria-controls":r(e).open.value?r(e).contentId:void 0,"data-state":r(e).open.value?"open":"closed",onClick:r(e).onOpenToggle}),{default:m(()=>[y(f.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),dt=C({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(t){const o=t;return(e,n)=>(v(),g(r(_e),V(j(o)),{default:m(()=>[y(e.$slots,"default")]),_:3},16))}}),ft={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default"}}}},mt={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","close:prevent","update:open"],setup(t,{emit:o}){const e=t,n=o,s=Me(),{t:f}=Ie(),p=Ke(),d=Re(Te(e,"open","defaultOpen","modal"),n),u=qe(se(()=>e.portal)),c=se(()=>e.content),l=L(()=>{const i={closeAutoFocus:b=>b.preventDefault()};return e.dismissible?i:["pointerDownOutside","interactOutside","escapeKeyDown","closeAutoFocus"].reduce((h,w)=>(h[w]=E=>{E.preventDefault(),n("close:prevent")},h),{})}),a=L(()=>{var i;return ae({extend:ae(ft),...((i=p.ui)==null?void 0:i.modal)||{}})({transition:e.transition,fullscreen:e.fullscreen})});return(i,b)=>(v(),g(r(Ve),V(j(r(d))),{default:m(({open:h})=>[s.default?(v(),g(r(ct),{key:0,"as-child":"",class:F(e.class)},{default:m(()=>[y(i.$slots,"default",{open:h})]),_:2},1032,["class"])):O("",!0),K(r(dt),V(j(r(u))),{default:m(()=>{var w,E;return[t.overlay?(v(),g(r(ut),{key:0,class:F(a.value.overlay({class:(w=e.ui)==null?void 0:w.overlay}))},null,8,["class"])):O("",!0),K(r(at),D({class:a.value.content({class:[!s.default&&e.class,(E=e.ui)==null?void 0:E.content]})},c.value,{onAfterLeave:b[0]||(b[0]=B=>n("after:leave"))},Le(l.value)),{default:m(()=>[s.content&&(t.title||s.title||t.description||s.description)?(v(),g(r(xe),{key:0},{default:m(()=>[t.title||s.title?(v(),g(r(le),{key:0},{default:m(()=>[y(i.$slots,"title",{},()=>[I(R(t.title),1)])]),_:3})):O("",!0),t.description||s.description?(v(),g(r(re),{key:1},{default:m(()=>[y(i.$slots,"description",{},()=>[I(R(t.description),1)])]),_:3})):O("",!0)]),_:3})):O("",!0),y(i.$slots,"content",{},()=>{var B,Y,X;return[s.header||t.title||s.title||t.description||s.description||t.close||s.close?(v(),W("div",{key:0,class:F(a.value.header({class:(B=e.ui)==null?void 0:B.header}))},[y(i.$slots,"header",{},()=>{var G,J,Q;return[Ne("div",{class:F(a.value.wrapper({class:(G=e.ui)==null?void 0:G.wrapper}))},[t.title||s.title?(v(),g(r(le),{key:0,class:F(a.value.title({class:(J=e.ui)==null?void 0:J.title}))},{default:m(()=>[y(i.$slots,"title",{},()=>[I(R(t.title),1)])]),_:3},8,["class"])):O("",!0),t.description||s.description?(v(),g(r(re),{key:1,class:F(a.value.description({class:(Q=e.ui)==null?void 0:Q.description}))},{default:m(()=>[y(i.$slots,"description",{},()=>[I(R(t.description),1)])]),_:3},8,["class"])):O("",!0)],2),t.close||s.close?(v(),g(r(je),{key:0,"as-child":""},{default:m(()=>[y(i.$slots,"close",{ui:a.value},()=>{var Z;return[t.close?(v(),g(We,D({key:0,icon:t.closeIcon||r(p).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":r(f)("modal.close")},typeof t.close=="object"?t.close:{},{class:a.value.close({class:(Z=e.ui)==null?void 0:Z.close})}),null,16,["icon","aria-label","class"])):O("",!0)]})]),_:3})):O("",!0)]})],2)):O("",!0),s.body?(v(),W("div",{key:1,class:F(a.value.body({class:(Y=e.ui)==null?void 0:Y.body}))},[y(i.$slots,"body")],2)):O("",!0),s.footer?(v(),W("div",{key:2,class:F(a.value.footer({class:(X=e.ui)==null?void 0:X.footer}))},[y(i.$slots,"footer")],2)):O("",!0)]})]),_:3},16,["class"])]}),_:3},16)]),_:3},16))}};export{mt as _,ut as a,at as b,Ve as c,ct as d,dt as e,le as f,re as g};
